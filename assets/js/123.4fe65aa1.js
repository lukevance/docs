(window.webpackJsonp=window.webpackJsonp||[]).push([[123],{1313:function(t,s,a){t.exports=a.p+"assets/img/closeio-doc.d97a9e39.png"},2475:function(t,s,a){"use strict";a.r(s);var e=a(0),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"action"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#action"}},[t._v("#")]),t._v(" Action")]),t._v(" "),e("p",[t._v("This section will now dive deeper into the details of how to create actions. This assumes that you have already learn't how to create a successful connection using one of the available authentication methods our SDK supports. Actions receive data from earlier steps in a recipe, transform it and send this data to your target API through HTTP requests.")]),t._v(" "),e("p",[t._v("A single action can make one or more requests to various endpoints. Because the framework handles the authentication side of a request, you will not have to worry about that here. Despite the ability to make multiple requests, best practices in building actions dictate that you keep actions simple minimising the number of HTTP requests and limiting the scope of the action to a single operation.")]),t._v(" "),e("blockquote",[e("p",[t._v("All authentication is handled by the "),e("code",[t._v("apply")]),t._v(" block declared earlier in the "),e("code",[t._v("connection")]),t._v(" object.")])]),t._v(" "),e("h2",{attrs:{id:"sample-code-snippet"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sample-code-snippet"}},[t._v("#")]),t._v(" Sample code snippet")]),t._v(" "),e("p",[t._v("The most important thing is to identify which endpoint will address the purpose of the action. Here we will take a look at "),e("a",{attrs:{href:"http://Close.io",target:"_blank",rel:"noopener noreferrer"}},[t._v("Close.io"),e("OutboundLink")],1),t._v("'s Lead object and how to retrieve it via the API.")]),t._v(" "),e("p",[e("DocImage",{attrs:{src:a(1313),alt:"close.io get lead object image",width:"624",height:"231"}})],1),t._v(" "),e("div",{staticClass:"language-ruby extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ruby"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  title"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'My Cisco connector'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n  connection"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Some code here")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  test"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Some code here")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n  actions"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    get_lead_by_id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      input_fields"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" lambda "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lead_id"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" optional"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("false")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n      execute"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" lambda "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("connection"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" input"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n        get"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://app.close.io/api/v1/lead/'),e("span",{pre:!0,attrs:{class:"token interpolation"}},[e("span",{pre:!0,attrs:{class:"token delimiter tag"}},[t._v("#{")]),t._v("input"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lead_id"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token delimiter tag"}},[t._v("}")])]),t._v('/"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n      output_fields"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" lambda "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("object_definitions"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n        object_definitions"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lead"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n  triggers"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Some code here")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  object_definitions"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Some code here")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  picklists"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Some code here")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  methods"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Some code here")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("A very simple action looks like this. A get request to the "),e("a",{attrs:{href:"http://Close.io",target:"_blank",rel:"noopener noreferrer"}},[t._v("Close.io"),e("OutboundLink")],1),t._v(" leads endpoint. Now lets go through the various blocks that are required in every action.")]),t._v(" "),e("h2",{attrs:{id:"input-fields"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#input-fields"}},[t._v("#")]),t._v(" "),e("code",[t._v("input_fields:")])]),t._v(" "),e("p",[t._v("After creating a new action, we first need to define the input fields for this action.")]),t._v(" "),e("div",{staticClass:"language-ruby extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ruby"}},[e("code",[t._v("input_fields"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" lambda "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lead_id"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" optional"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("false")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),e("p",[t._v("In the case above, we have defined a very simple single input field with the name "),e("code",[t._v("lead_id")]),t._v(". This would result in an end user being able to see a single input field called "),e("code",[t._v("lead_id")]),t._v(" when building a recipe using this action.")]),t._v(" "),e("blockquote",[e("p",[t._v("While we have kept this example relatively simple, we also offer capabilities to dynamically generate input fields as well as store these input field definitions in "),e("code",[t._v("object definitions")]),t._v(" to keep your custom connector code DRY.")])]),t._v(" "),e("h2",{attrs:{id:"execute"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#execute"}},[t._v("#")]),t._v(" "),e("code",[t._v("execute:")])]),t._v(" "),e("p",[t._v("The "),e("code",[t._v("execute")]),t._v(" block is where you can declare any HTTP requests that this action should make. Since you needn't worry about authentication, you can focus on defining your HTTP requests that contains the data you require to complete your action.")]),t._v(" "),e("div",{staticClass:"language-ruby extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ruby"}},[e("code",[t._v("execute"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" lambda "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("connection"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" input"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n  get"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://app.close.io/api/v1/lead/'),e("span",{pre:!0,attrs:{class:"token interpolation"}},[e("span",{pre:!0,attrs:{class:"token delimiter tag"}},[t._v("#{")]),t._v("input"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lead_id"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token delimiter tag"}},[t._v("}")])]),t._v('/"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),e("table",[e("thead",[e("tr",[e("th",[t._v("Argument")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("connection")]),t._v(" "),e("td",[e("code",[t._v("connection")]),t._v(" object, frequently used to access domain or subdomain information from the user.")])]),t._v(" "),e("tr",[e("td",[t._v("input")]),t._v(" "),e("td",[e("code",[t._v("input")]),t._v(" object: Data from trigger input fields. In this example, the input contains the Room ID to receive messages from.")])])])]),t._v(" "),e("p",[t._v("Aside from the HTTP request, "),e("code",[t._v("execute")]),t._v(" blocks can be used to do any pre-processing of input data and post-processing of responses. We have a set of Whitelisted ruby functions that you can use to do this. "),e("router-link",{attrs:{to:"/developing-connectors/sdk/methods.html"}},[t._v("Check them out here")])],1),t._v(" "),e("h2",{attrs:{id:"output-fields"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#output-fields"}},[t._v("#")]),t._v(" "),e("code",[t._v("output_fields:")])]),t._v(" "),e("p",[t._v("You can define output_fields in the same way you define input_fields. This time, however, we have used something called object_definitions to define the output schema, where we defined the schema for the "),e("code",[t._v("lead")]),t._v(" objects once and can continue to reuse this same schema by referencing it in multiple areas in the custom connector code.")]),t._v(" "),e("div",{staticClass:"language-ruby extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ruby"}},[e("code",[t._v("output_fields"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" lambda "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("object_definitions"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n  object_definitions"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lead"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])]),e("table",[e("thead",[e("tr",[e("th",[t._v("Argument")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("object_definitions")]),t._v(" "),e("td",[t._v("This allows us to access a static or dynamic definition declared in the object_definitions block")])])])]),t._v(" "),e("p",[t._v("This is something we will cover later on in our "),e("router-link",{attrs:{to:"/developing-connectors/sdk/object-definition.html"}},[t._v("object definitions")]),t._v(" section.")],1),t._v(" "),e("h2",{attrs:{id:"sample-output"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sample-output"}},[t._v("#")]),t._v(" sample_output")]),t._v(" "),e("p",[t._v("This is an optional block that populates the datapills defined in the "),e("code",[t._v("output_fields:")]),t._v(" block with some sample information for users. It is exposed as grey text next to datapills. Check out "),e("router-link",{attrs:{to:"/developing-connectors/sdk/best-practices.html"}},[t._v("best practices")]),t._v(" section on how to use sample_outputs.")],1),t._v(" "),e("div",{staticClass:"language-ruby extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ruby"}},[e("code",[t._v("sample_output"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" lambda "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("_connection"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" _input"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    accounts"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" call"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"format_api_output_field_names"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                   get"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/api/accounts"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                       return_object"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"shallow"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                       limit"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("compact"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])]),e("p",[e("DocImage",{attrs:{src:a(26),alt:"Sample output",width:"1082",height:"1118"}}),t._v(" "),e("em",[t._v("Sample outputs make your datapills more usable by giving some context to users.")])],1),t._v(" "),e("h2",{attrs:{id:"other-optional-blocks"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#other-optional-blocks"}},[t._v("#")]),t._v(" Other optional blocks")]),t._v(" "),e("table",{staticClass:"unchanged rich-diff-level-one"},[e("thead",[e("tr",[e("th",{attrs:{width:"10%"}},[t._v("Block")]),t._v(" "),e("th",{attrs:{width:"20%"}},[t._v("Example")]),t._v(" "),e("th",{attrs:{width:"70%"}},[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("code",[t._v("title:")])]),t._v(" "),e("td",[e("code",[t._v('title: "This is the title of the action"')])]),t._v(" "),e("td",[t._v("This shows up as the main action/trigger name and override the name given to the action block. This is useful in naming actions and triggers that have special characters"),e("br"),t._v(" "),e("img",{attrs:{src:a(27)}})])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("subtitle:")])]),t._v(" "),e("td",[e("code",[t._v('subtitle: "This is a subtitle"')])]),t._v(" "),e("td",[t._v("This shows up below the main action name when users are looking at the dropdown of possible actions"),e("br"),t._v(" "),e("img",{attrs:{src:a(28)}})])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("description:")])]),t._v(" "),e("td",[e("code",[t._v('description: "This is a description"')])]),t._v(" "),e("td",[t._v("This is what shows up as the summary of an action when looking at the recipe."),e("br"),t._v(" "),e("img",{attrs:{src:a(29)}})])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("help:")])]),t._v(" "),e("td",[e("code",[t._v('help: "This is a help text"')])]),t._v(" "),e("td",[t._v("This shows up as the help hint when users are configuring the action. Use this to detail any important information the user should have"),e("br"),t._v(" "),e("img",{attrs:{src:a(30)}})])])])]),t._v(" "),e("h3",{attrs:{id:"testing"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#testing"}},[t._v("#")]),t._v(" Testing")]),t._v(" "),e("p",[t._v("After defining your action block, you'll be able to test this action directly immediately from the custom connector homepage. At the bottom of the code editor for each custom connector, you will be able to see a list of actions and triggers that you have defined.")]),t._v(" "),e("blockquote",[e("p",[t._v("Your custom connector code needs to compile successfully for actions and triggers to show up. If no console is found, double check your custom connector code for any errors which should already be highlighted.")])]),t._v(" "),e("blockquote",[e("p",[t._v("Remember to set up your connection block first if the API which requests are being sent to expects some form of authentication.")])]),t._v(" "),e("p",[t._v("Each action should have a "),e("code",[t._v("Test")]),t._v(" button which would allow you to manually declare inputs in a JSON format. Once valid inputs have been given, Workato runs this single action and populates with the inputs, outputs, any network requests and a console log.")]),t._v(" "),e("blockquote",[e("p",[t._v("Console logs come in useful with ruby "),e("code",[t._v("puts")]),t._v(" functions. You can use this to debug your actions and triggers easily")])]),t._v(" "),e("h2",{attrs:{id:"variations"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#variations"}},[t._v("#")]),t._v(" Variations")]),t._v(" "),e("h3",{attrs:{id:"adding-parameters-and-payloads-to-requests"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#adding-parameters-and-payloads-to-requests"}},[t._v("#")]),t._v(" Adding parameters and payloads to requests")]),t._v(" "),e("p",[t._v("Other endpoints require parameters to access certain details, instead of accessing a particular resource route.")]),t._v(" "),e("p",[t._v("A GET request can have parameters added to the request. There are 2 ways you can do this.")]),t._v(" "),e("p",[t._v("Add query parameters to the method.")]),t._v(" "),e("div",{staticClass:"language-ruby extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ruby"}},[e("code",[t._v("execute"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" lambda "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("connection"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" input"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'companies'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" get"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://'),e("span",{pre:!0,attrs:{class:"token interpolation"}},[e("span",{pre:!0,attrs:{class:"token delimiter tag"}},[t._v("#{")]),t._v("connection"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'deployment'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token delimiter tag"}},[t._v("}")])]),t._v('.api.accelo.com/api/v0/companies.json"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" input"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"response"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])]),e("p",[t._v("Add query parameters using the "),e("code",[t._v("params")]),t._v(" method.")]),t._v(" "),e("div",{staticClass:"language-ruby extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ruby"}},[e("code",[t._v("execute"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" lambda "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("connection"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" input"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'companies'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" get"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://'),e("span",{pre:!0,attrs:{class:"token interpolation"}},[e("span",{pre:!0,attrs:{class:"token delimiter tag"}},[t._v("#{")]),t._v("connection"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'deployment'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token delimiter tag"}},[t._v("}")])]),t._v('.api.accelo.com/api/v0/companies.json"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n                 params"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("_search"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" input"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"company_name"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"response"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])]),e("p",[t._v("A POST or PUT or PATCH request can have payloads attached as well. There are 2 ways you can do this.")]),t._v(" "),e("p",[t._v("Add payloads to the method.")]),t._v(" "),e("div",{staticClass:"language-ruby extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ruby"}},[e("code",[t._v("execute"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" lambda "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("connection"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" input"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"users"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" post"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://'),e("span",{pre:!0,attrs:{class:"token interpolation"}},[e("span",{pre:!0,attrs:{class:"token delimiter tag"}},[t._v("#{")]),t._v("connection"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'helpdesk'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token delimiter tag"}},[t._v("}")])]),t._v('.freshdesk.com/api/users.json"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" input"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"results"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])]),e("p",[t._v("Add payloads using the "),e("code",[t._v("payload")]),t._v(" method.")]),t._v(" "),e("div",{staticClass:"language-ruby extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ruby"}},[e("code",[t._v("execute"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" lambda "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("connection"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" input"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n  post"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://api.pushbullet.com/v2/pushes"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n    payload"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      email"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" input"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"email"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      title"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" input"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"title"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n      body"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" input"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"body"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),t._v("\n")])])]),e("p",[t._v("See "),e("router-link",{attrs:{to:"/developing-connectors/sdk/methods.html"}},[t._v("Methods")]),t._v(" section for list of methods available for use in your custom connector actions.")],1),t._v(" "),e("h3",{attrs:{id:"configuring-actions-which-download-binary-files"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#configuring-actions-which-download-binary-files"}},[t._v("#")]),t._v(" Configuring actions which download binary files")]),t._v(" "),e("p",[t._v("As Workato expects data in JSON formats unless told otherwise, download actions which work with Binary files require you to tell Workato to expect the response in a raw format.")]),t._v(" "),e("p",[t._v("Below we have an example from the Egnyte API, where we want to download files of any content-type.")]),t._v(" "),e("div",{staticClass:"language-ruby extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ruby"}},[e("code",[t._v("execute"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" lambda "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("_connection"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" input"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n  file_path "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" input"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'file_path'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("encode_url"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gsub"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/%2F/")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  get"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/pubapi/v1/fs-content/'),e("span",{pre:!0,attrs:{class:"token interpolation"}},[e("span",{pre:!0,attrs:{class:"token delimiter tag"}},[t._v("#{")]),t._v("file_path"),e("span",{pre:!0,attrs:{class:"token delimiter tag"}},[t._v("}")])]),t._v('"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n    headers"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Accept'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'*/*'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n    response_format_raw "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# essential to handle binary files")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("end")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),e("h2",{attrs:{id:"next-section"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#next-section"}},[t._v("#")]),t._v(" Next section")]),t._v(" "),e("p",[t._v("Find out more about how to build triggers for your connector that can listen for events and trigger recipes based on that.\n"),e("router-link",{attrs:{to:"/developing-connectors/sdk/trigger.html"}},[t._v("Go to our triggers documentation")]),t._v(" or check our our "),e("router-link",{attrs:{to:"/developing-connectors/sdk/best-practices.html"}},[t._v("best practices")]),t._v(" for some tips on building your actions.")],1)])}),[],!1,null,null,null);s.default=n.exports},26:function(t,s,a){t.exports=a.p+"assets/img/sample_output_sample.271867aa.png"},27:function(t,s,a){t.exports=a.p+"assets/img/title.5d31000a.png"},28:function(t,s,a){t.exports=a.p+"assets/img/subtitle.af1f85c5.png"},29:function(t,s,a){t.exports=a.p+"assets/img/description.4655ec2d.png"},30:function(t,s,a){t.exports=a.p+"assets/img/help.55bf1b97.png"}}]);